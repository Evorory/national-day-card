<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>اليوم الوطني 95 - خريطة التهاني</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style>
body { margin:0; font-family: Tahoma, Arial; background:#f3f7f6; display:flex; justify-content:center; align-items:center; flex-direction:column; min-height:100vh; }
h1 { margin-top:20px; color:#047857; }
svg { width: 90%; max-width: 900px; height:auto; border:1px solid #ddd; margin-top:20px; }
path { fill:#a3d9a5; stroke:#047857; stroke-width:1; cursor:pointer; transition: fill 0.3s; }
path:hover { fill:#047857; }
.card { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%) scale(0); background:#fff; padding:20px; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.2); width:300px; text-align:center; transition: transform 0.3s ease, opacity 0.3s ease; opacity:0; z-index:10; }
.card.show { transform:translate(-50%,-50%) scale(1); opacity:1; }
button { padding:8px 12px; margin-top:10px; border:none; border-radius:8px; cursor:pointer; }
button.download { background:#f59e0b; color:#041; margin-left:5px; }
.overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.2); display:none; z-index:5; }
.overlay.show { display:block; }
</style>
</head>
<body>

<h1>🇸🇦 تهانينا باليوم الوطني 95</h1>

<svg viewBox="0 0 1000 600">
  <!-- المناطق الكبرى -->
  <path id="northern" d="M100,50 L400,50 L400,200 L100,200 Z" />
  <path id="central" d="M400,50 L700,50 L700,200 L400,200 Z" />
  <path id="eastern" d="M700,50 L900,50 L900,200 L700,200 Z" />
  <path id="western" d="M100,200 L400,200 L400,400 L100,400 Z" />
  <path id="southern" d="M400,200 L700,200 L700,400 L400,400 Z" />
  <path id="northwestern" d="M700,200 L900,200 L900,400 L700,400 Z" />
</svg>

<div class="overlay" id="overlay"></div>

<div class="card" id="card">
  <h2 id="regionName">منطقة</h2>
  <p id="regionMsg">اليوم الوطني 95 — كل عام ووطننا بخير! 🇸🇦</p>
  <button class="download" id="downloadCard">احفظ البطاقة</button>
</div>

<script>
// رسائل لكل منطقة
const messages = {
  northern: 'المنطقة الشمالية — اليوم الوطني 95، كل عام ووطننا بخير! 🇸🇦',
  central: 'منطقة نجد — اليوم الوطني 95، كل عام ووطننا بخير! 🇸🇦',
  eastern: 'المنطقة الشرقية — اليوم الوطني 95، كل عام ووطننا بخير! 🇸🇦',
  western: 'المنطقة الغربية — اليوم الوطني 95، كل عام ووطننا بخير! 🇸🇦',
  southern: 'المنطقة الجنوبية — اليوم الوطني 95، كل عام ووطننا بخير! 🇸🇦',
  northwestern: 'المنطقة الشمالية الغربية — اليوم الوطني 95، كل عام ووطننا بخير! 🇸🇦'
};

const paths = document.querySelectorAll('path');
const card = document.getElementById('card');
const overlay = document.getElementById('overlay');
const regionName = document.getElementById('regionName');
const regionMsg = document.getElementById('regionMsg');

paths.forEach(path => {
  path.addEventListener('click', ()=>{
    const id = path.id;
    // تحويل اسم المنطقة للنص العربي المناسب
    const names = {
      northern: 'المنطقة الشمالية',
      central: 'منطقة نجد',
      eastern: 'المنطقة الشرقية',
      western: 'المنطقة الغربية',
      southern: 'المنطقة الجنوبية',
      northwestern: 'المنطقة الشمالية الغربية'
    };
    regionName.textContent = names[id];
    regionMsg.textContent = messages[id];
    card.classList.add('show');
    overlay.classList.add('show');
  });
});

// إغلاق عند الضغط على overlay
overlay.addEventListener('click', ()=>{
  card.classList.remove('show');
  overlay.classList.remove('show');
});

// تنزيل البطاقة كصورة
document.getElementById('downloadCard').addEventListener('click', async ()=>{
  const canvas = await html2canvas(card, {backgroundColor:null, scale:2});
  const url = canvas.toDataURL('image/png');
  const a = document.createElement('a');
  a.href = url; a.download = 'national_day_card.png';
  document.body.appendChild(a);
  a.click();
  a.remove();
});
</script>

</body>
</html>